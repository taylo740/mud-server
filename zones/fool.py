#Messages for each possible decision

start_info = '''
------------------------------
As the smell of old scroll paper and burning oil fills your lungs, you realize the ancient
sanctum of the Occult Sorcerer draws near. From now onward, every step counts, 
as your disrupted solitude is broken by a glooming figure at the end of the
marble hallway. How do you proceed?

::Valid Commands::
forward: Approach the distant silhouette head on.
chant: Your years as a bard could come in handy to lighten the mood.
bag: Perhaps one of the items you brought here might help.
------------------------------
'''

forward_info = '''
------------------------------
Without a second thought, you move towards the presence in the dark. After a couple steps 
you hear a voice coming from the shadows: "Ah! Another plucky adventurer. I imagine you're lost
and need some guidance. Worry not friend, sit with me, and I'll see what I can help you with"
It's an old man, sitting next to a rotten wooden table. You don't know if it's his yellow long nails
or his disgusting beard, but something feels wrong about him. What do you do next?

::Valid Commands::
accept: Sit with the old man to find more about this place, maybe.
deny: Follow your instinct and hate for the elderly.
bag: You worry this is a trap, and so you rapidly grab the first thing you can to defend yourself. 
------------------------------
'''

chant_info = '''
------------------------------
The memories of that smelly tavern you worked at as a youngling inspire you to sing a 
melody that travels throughout the corridors of the dungeon. The wind around you changes, 
as mysterious forces notice your presence. The many piles of bones and ash around you start to 
emanate a purple glow, and form into reanimated skeletons! You can barely believe your sight, but 
as you start to faint, they grab you by the arms and start dancing to the song you just performed!
You need to quickly escape their grasp before something worse finds you... but how?

::Valid Commands::
bag: With your hand close to your wrist, you're still able to grab something to try and escape.
shout: Become the "carnival night soiler" your mother thought you were and stop this macabre dance.
------------------------------
'''

bag_info = '''
------------------------------
You couldn't buy much before heading into the dungeon. After all, "professional treasure seeker" 
isn't a very trustworthy title amongts the townsfolk. Your small pouch has a fistful of sand and
a sad excuse for a knive. They aren't of much use right now.

::Valid Commands::
forward: Approach the distant silhouette head on.
chant: Your years as a bard could come in handy to lighten the mood.
------------------------------
'''

bag_use_info = '''
------------------------------
What do you want to use?

::Valid Commands::
sand: Grab the sad lump of sand at the bottom of your pouch.
knive: The blade isn't longer than a child's foot, but it's better than nothing.
------------------------------
'''

accept_info = '''
------------------------------
You sit on the opposite end of the table, facing the old man. The moment you sit, something begins
to change. You observe motionless as the flesh from the man's face begins to rot, being replaced by a
purple corpse-like tissue. The eyes of the forming, slanky body, shine iridescent red as they look down 
on you. The Ancient One, The Occult Sorcerer, Vecna The Undead makes its precense known to you.
"Fool, pathetic soul. Daring to miserably squirm on my domain, looking for what they can't possess. A mere
object on my endless game. You shall never leave this place, as I will keep you reliving this moment until
your memories vanish and spirit snaps in half. You will play a game with me. Answer my riddle correctly, 
and I will set you free. That is, of course, if you dare to answer. Answer wrongly, and well..." The immortal
sorcerer laughs uncontrollably at your misery. "My riddle is as follows: I can be found in the hours of the day,
But also in shadows that fade away. Count the steps to freedom, one by one, What number am I when all is done?"

::Valid Commands::
scream: No one will hear you.
pray: No one will answer you.
guess: Do you have the courage? 
------------------------------
'''

guess_info = '''
------------------------------
w̵̧̛̟͕̠̱̟̘̼̒̃̑͛͆͛̈͒̃͝͝h̷̞̰̗͔̼̥͆̓̓̈́á̷̢̰̼̖̬̭̖̤͈͓̼͒̾̂̄̂̇̀͒̈́̽̓̐͝͝ͅṱ̸̡̱̦͎̔͋͂̈́̈̂͝ ̵̩̻̳̜̐́̈́̈́̂͊̀̀i̴̧͚͓͉͓̟̳̮͉̹̬̥͋s̶̢̖̼͓̯̫̩̘̼̗͍̎́̈́͒̓ ̸̛̛̫̦̰͚̯͚̠̣̖̠͔̰͙̗͒̌̅̈́͐̅̆̑͆̌́̚͠ͅy̸̨̧͕̙͖̬̟͖̏̄̀̇͌̒̎͂̈͒͌̓̚͝͝ô̴̱̹̦̯̦̣̹͚͍̩̝̙͚̮̌ȗ̴̮̫̌͛̇̀̏̃̾͑̅͠͝r̶͍͕̻̦̝̖̣̟̭̫̆̐ ̶̛̻͕̰̮̰̹̰͎̗̺̬̟͊̋͝͠͝ͅa̷͓̋̈́̾̂̈́́̆̽͗͋̾͆͠n̴̛̬̞̏̾̄̔͆̽̓̊͗̋̋͆s̴̨̡͖̠̣̣̲̣̹̬̖͆͋̏͘͝w̷̲̯̣̝̥̦̭̼͇̠͍͍̩͈̔̾̋̔̃̿̓͐̎̔͗̆ͅę̵̹̹͕̥̤̖̩̯̺͉̈́͛̑̑͊͜ͅȑ̷͎̩̤̟͖̟͎̻͊̃́̇̓͠?̴̹̱̱͕̰͓̤̩̜̘͙͐̂̾̎̔̅̚

::Valid Commands::
k̷͖͉̋̒͛̅͐͆ư̸̡̨̡̢̮̭̥̗̠͈̻̈́̄̅̂̐̿͒̃̈̓͘ͅŗ̵͈͕͓̰̰̩͈̀̅f̶̨̜̉͜ñ̵̤̅̔͗͐́̆͐͂̃́́͝͝͝ĺ̶̟̩̗̲͔̜͇̺̜͉̑̊͛̓̕͝e̸͉͈͚̞̜͔̖̤̙͋̏͋͒̏̿͌͛͊͜j̶̡̻̥̬̝͔͍̲̉̂͂̒́̿̎͝ͅf̵̢͍̼̮̘̦̓̏̚͝H̵̡̥͙̦͚̩͋͗̓͜ĩ̵̡̜̯̖͍͈̫̬̻̈́́͊a̴̡̘̮͈̙̘̭͉̣̭̯͕̪͋͝ͅk̵̡̗̤͔̋̐̈́͋̉̀͝j̸̥̫͙̱̞̮͚͖͒͑̓͂̊̽͝͝f̸̝̗̮͉̰͙̱̯̯͕͒.̶̭̙̺̬͚̲͈̳͕̈́̒̓̄͑̎́͐̊̈́͛͘n̸̢͔̘̫̲̲̠̮̏̃̽͌͛̕̚͜͝͠A̶̩͉̻̼̬͐È̵̢̡̡̻̪̙̦̤̳̯̻͕͗́̍̈́̏̏̊͛͌͒͐̅̀͘Ņ̸̧͉̦̤̞̺̻̃̈́̄͛̀̉͆͆̊͊̾̎̚͘͝͝v̶̡̳̠̗̬̙̈́͌̋͑̓̚h̶̖͓͍̐̎J̷̯͉̹̰͙̝̆͑̓̓̍ͅŅ̶̺̹̥̮̬̬̩͋̿͛̂͊͛͛́́͊̈̈́̀̕E̸͇͇͕͎͍͕͗͂̊͌͐̃̇͛̀̇̍̆̓̈́͠Ṕ̸̳̭̪̦̀̆̚͝D̷̡̧̧͉͙͈̩̫̭͈̼͋̎͋̓̍͂̐̓͠Į̷̱̟̖̞̹̏̌̈́̈̀̔̏̚͘̚͜͝͝ ̸̡̛̱̬̞͉͔̆̎̆̐̎Ǩ̸͖̰̯̥̋͂͂͌́Ạ̶̧̛̪̩͉͓̼͉̮̔̒̓́̀͝͝ī̷̡̨̖͎͎̻̦͙̻̞̜͔̩̅͗̓̒̑̂̍͌̚͜ͅk̶̡̠̞̲͉͕͔̤͉̙͖̽̀̓̂̈̂̀͋̎̐̃̕j̵̛̝̗̱̟͐́͋́̇̊̅̑̕͠͝d̸̼͔͇͚͍̺̠̻̖͚̓ǹ̴̥̼͈̗̈̂̂͑̄̇̽ͅl̴͎̟͇̇̌̊̋͗̓̑̑̈́͝q̵̙͚͈̠̞̗̰͎̲̬̎̋̀̀͊̈́̕j̸̨̤̪͕̔́̀̍͗̒͊̋̑̇̂͠͝ͅa̷̳͈̞͚̘̦͕̦͇̍̿͆ͅ,̶̨͖̰̬̄͂͋̂͘͝X̵̛̛̝̖̭̲̩̥͎̝͍̉͛͗̄̉̋̐̉̉͆
------------------------------
'''

twentyfour_info = '''
------------------------------
Upon answering, your body feels a light uplift. You open your eyes again, as if waking up from a
bad nightmare. You're in your house. The weight of the sheets. The rustic color of the wooden 
ceiling. The dogs barking outside. You stand up from your bed, and open the door. The dawn of the 
new day feels brighter as you feel... changed. You stand there, and appreciate it for a little 
longer. You have time, and you'll spend it well.

You found what you were looking for.
Press the Log Out button.
------------------------------
'''

deny_sword_info = '''
------------------------------
You rudely and assertively confront the man, grabbing the miserable sword you brought with you.
However, as your grip tightens around the weapon, your hand shakes, and something similar to anger
ignites your arm. This is not your doing. Without your control, your whole arm swings directly into your
head. What happens after is blurry. Not quite alive. Not quite dead. Definetely lost. 

GAME OVER.
Press the Log Out button.
------------------------------
'''

sand_man_info = '''
------------------------------
You rudely and assertively confront the man, grabbing the fistful of sand from your bag. You quickly
perform your Signature Move TM and throw it into his eyes. You take advantage of this and go past him.
You find the layer of the Occult Sorcerer, a spacious room full of glass, bent in ways you've never seen
before, jewels that shine with the will of the sun itself, and creatures that stand in imposing cabinets, 
taller than the towers of the greatest castles. The centerpiece of the collection lies upon a desk in the
middle. The Necronomicon. As you scroll through its pages, the fabric of your reality rips open. You ask...

::Valid Commands::
What is this? Where... where am I. My... my body. I... I can't feel my body. Oh. Oh my God what is happening
to me. Why can't I hear myself speak. Why can't I hear my own thoughts. My body is stretching. Enlarging and
separating to create symbols and lines and symbols that have no meaning. It hurts. Please. Somebody make it
stop please. I can't. Why won't it stop. Why won't the feel of metal leave my skin, if I no longer have one?

You found what you were looking for.
Press the Log Out button.
------------------------------
'''

shout_info = '''
------------------------------
You fill your lungs with as much air as you can and release a strong roar through the catacombs. The 
dance of the dead stops at once. Still, they do not release you. The floor trembles, and you see it open 
right below your feet. The pale arms and hands drag your body to the ground, where you will decompose
and become a subject of the army of the Occult Sorcerer.

GAME OVER.
Press the Log Out button.
------------------------------
'''

sand_skeleton_info = '''
------------------------------
You grab the small amount of sand from your bag in an attempt to do your Signature Move TM, but you realize
that skeletons do not have eyes that can be blinded by dust. The floor trembles, and you see it open 
right below your feet. The pale arms and hands drag your body to the ground, where you will decompose
and become a subject of the army of the Occult Sorcerer.

GAME OVER.
Press the Log Out button.
------------------------------
'''

knive_skeleton_info = '''
------------------------------
In a blink of an eye, you swing your knife around the skeletons. It's immediately clear that they've
encountered adventurers way more capable than you, so they're immediately frightened and go back into
the ground. As you keep moving forward you find the layer of the Occult Sorcerer, a spacious room full of glass, 
bent in ways you've never seen before, jewels that shine with the will of the sun itself, and creatures that stand 
in imposing cabinets, taller than the towers of the greatest castles. The centerpiece of the collection lies upon a 
desk in the middle. The Necronomicon. As you scroll through its pages, the fabric of your reality rips open. You ask...

::Valid Commands::
What is this? Where... where am I. My... my body. I... I can't feel my body. Oh. Oh my God what is happening
to me. Why can't I hear myself speak. Why can't I hear my own thoughts. My body is stretching. Enlarging and
separating to create symbols and lines and symbols that have no meaning. It hurts. Please. Somebody make it
stop please. I can't. Why won't it stop. Why won't the feel of metal leave my skin, if I no longer have one?

You found what you were looking for.
Press the Log Out button.
------------------------------
'''


def enter_zone(user, state):
    '''
    Purpose: Sets up the initial state of the user when they 
        first enter the adventure.
    Parameters:
        user - the name of the user (string)
        state - currently unused (None)
    Return Value:
        The starting state value for the game (???)
    '''
    print(start_info)
    return 'Start'

def command(user, state, message):
    '''
    Purpose:
        Runs whenever the user types something into the command box.
        Determines if their command is valid and progresses the story if so.
    Parameters:
        user - the name of the user (string)
        state - current user state (???)
        message - the text of the user's command (string)        
    Return Value:
        The next state for the user (???)
    '''
    if state == 'Start':
        if message == 'forward':
            print(forward_info)
            return 'Forward'
        elif message == 'chant':
            print(chant_info)
            return 'Chant'
        elif message == 'bag':
            print(bag_info)
            return 'Start'
        else:
            print("Invalid Command")
            return 'Start'
    elif state == 'Forward':
        if message == 'accept':
            print(accept_info)
            return 'Accept'
        elif message == 'deny':
            print(deny_sword_info)
            return 'End'
        elif message == 'bag':
            print(bag_use_info)
            return 'Bag_Use'
        else:
            print('Invalid Command')
            return 'Forward'
    elif state == 'Bag_Use':
        if message == 'sand':
            print(sand_man_info)
            return 'End'
        elif message == 'knive':
            print(deny_sword_info)
            return 'End'
        else:
            print("That's not on your bag!")
            return 'Forward'
    elif state == 'Accept':
        if message == 'scream' or message == 'pray':
            print(accept_info)
            return 'Accept'
        elif message == 'guess':
            print(guess_info)
            return 'Guess'
        else:
            print('Invalid Command, you foolish soul!')
            return 'Accept'
    elif state == 'Guess':
        if message == '24':
            print(twentyfour_info)
            return 'End'
        else:
            print(accept_info)
            return 'Accept'
    elif state == 'Chant':
        if message == 'shout':
            print(shout_info)
            return 'End'
        elif message == 'bag':
            print(bag_use_info)
            return 'Bag_Use_Info'
        else:
            print("Invalid Command")
            return 'shout'
    elif state == 'Bag_Use_Info':
        if message == 'sand':
            print(sand_skeleton_info)
            return 'End'
        elif message == 'knive':
            print(knive_skeleton_info)
            return 'End'
        else:
            print("That's not on your bag!")
            return 'Chant'
